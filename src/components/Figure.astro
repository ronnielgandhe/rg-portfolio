---
export interface Props {
  caption?: string;
  alt?: string;
}

const { caption, alt } = Astro.props;
---

<figure class="figure">
  <div class="figure-content">
    <slot />
  </div>
  {caption && (
    <figcaption class="figure-caption">
      {caption}
    </figcaption>
  )}
</figure>

<style>
  .figure {
    margin: 2.5em 0;
    text-align: center;
  }

  .figure-content {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .figure-content :global(img) {
    max-width: 100%;
    height: auto;
    border-radius: 0.5rem;
    border: 1px solid var(--divider);
    margin: 0;
  }

  .figure-caption {
    margin-top: 0.875rem;
    font-size: 0.875rem;
    color: var(--text-muted);
    font-style: italic;
    line-height: 1.5;
  }

  @media (max-width: 640px) {
    .figure {
      margin: 2em -1rem;
    }

    .figure-caption {
      padding: 0 1rem;
      font-size: 0.8125rem;
    }
  }
</style>
