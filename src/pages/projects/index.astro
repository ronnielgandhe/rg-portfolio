---
export const prerender = false;
import { getImage } from 'astro:assets';
import Layout from '../../layouts/Layout.astro';
import ProjectsLayout from '../../layouts/ProjectsLayout';
import { getRecentBlogPosts } from '../../utils/blog';
import { getFixedBackgroundKey, getOptimizedBackgrounds } from '../../utils/backgrounds';

const projects = [
  {
    title: 'QuantTerminal',
    slug: 'quantterminal',
    year: 2025,
    tech: ['Python', 'React', 'FastAPI', 'PostgreSQL', 'Docker', 'AWS'],
    summary: 'Terminal-style trading dashboard for systematic strategy development and execution.',
    status: 'In Development'
  },
  {
    title: 'YourNews',
    slug: 'yournews',
    year: 2025,
    tech: ['Next.js', 'Express', 'TypeScript', 'Tailwind', 'OpenAI'],
    summary: 'Personalized news dashboard with TF-IDF + AI summaries and clean infra.',
    status: 'Live',
    repoUrl: 'https://github.com/ronnielgandhe/yournews'
  }
];

// Get optimized backgrounds
const backgroundMap = await getOptimizedBackgrounds(getImage);

// Fetch recent blog posts for navigation
const recentPosts = await getRecentBlogPosts();
---

<Layout
  title='Projects - Ronniel Gandhe'
  description='Software projects by Ronniel Gandhe - systematic trading tools and scalable infrastructure'
  canonical='https://ronnielgandhe.com/projects'
>
  <ProjectsLayout
    client:load
    projects={projects}
    initialBg={getFixedBackgroundKey()}
    backgroundMap={backgroundMap}
    recentPosts={recentPosts}
  />
</Layout>